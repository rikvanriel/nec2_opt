var geometryViewer=function(y,B){var c="length",m="elements",z=Math.PI,x="split",e=Matrix,p=e.RotationZ,d="push",J="replace",A="slice",q="substr",a="indexOf",b=",\n geometry section: ",t="#000",I=function(g){throw g},l=function(L,M,s){var h=(L[c]-1)/3,w;for(w=0;w!=h;++w){L[d].apply(L,M.x($V(L[A](1+3*w,4+3*w))).add(s)[m])}},F=function(O,N){var s=p(2*z/N),h=(O[c]-1)/3,M,w,L=[];for(w=1;w!=N;++w){for(M=0;M!=h;++M){L[d].apply(L,s.x($V(O[A](1+3*M,4+3*M)))[m])}s=s.x(p(2*z/N))}O[d].apply(O,L)},j=function(O,T){var R=T[x]("-"),S={x:0,y:1,z:2},L={a:0,b:1,c:2},M,h,X,U,Q,W,V,Y,P="Invalid mirror direction: ",w="Invalid cylindrical rotation: ",N="Invalid transformation rotation: ";for(X=0;X!=R[c];++X){T=""+R[X];if(!T[c]){continue}if(T[0]=="m"){for(h=1;h!=T[c];++h){if(!(T[h] in S)){I(P+T[h])}U=S[T[h]];Q=O[c]-1;for(M=0;M!=Q;++M){O[d](M%3==U?-O[M+1]:O[M+1])}}}else{if(T[0]=="r"){Q=Number(T[q](1));if(isNaN(Q)||Q!=Math.round(Q)){I(w+T)}F(O,Q)}else{W=e.I(3);V=$V([0,0,0]);Y=T.match(/[xyzabc]-?[0-9]*[.]?[0-9]*/g);for(M=0;M!=Y[c];++M){Q=Number(Y[M][q](1));if(isNaN(Q)){I(N+T)}if(Y[M][0] in S){V[m][S[Y[M][0]]]+=Q}else{if(Y[M][0] in L){rot=[e.RotationX,e.RotationY,p][L[Y[M][0]]](Q*z/180);W=rot.x(W);V=rot.x(V)}else{I(N+T)}}}l(O,W,V)}}}},r=function(L){var h=(L[c]-1)/3-1,w=L[A](0,4),s;for(s=1;s!=h;++s){w[d].apply(w,L[A](1+3*s,3*s+4));w[d].apply(w,L[A](1+3*s,3*s+4))}w[d].apply(w,L[A](L[c]-3));return w},o=function(P,h){var T=P[x](/\[\[|\]\]|\],\[|,,/),L=0,S,M=[],U,V,O,N,R,w;for(O=0;O!=T[c];++O){S=T[O][x](",");U=[];N=0;R="";if(S[c]%3){V=S[0];if(V[0]=="#"){if(V[c]!=4&&V[c]!=7){U[d](t)}else{U[d](V)}}else{if(V[c]!=3&&V[c]!=6){U[d](t)}else{U[d]("#"+V)}}N++}else{U[d](t)}if(S[c]%3>1){R=S[1];++N}for(;N!=S[c];++N){w=Number(S[N]);if(isNaN(w)){I("Invalid geometry token "+S[N]+" at pos "+N+b+T[O]);return 0}U[d](w)}if(h){U=r(U)}if(R){try{j(U,R)}catch(Q){I(Q+b+T[O])}}for(N=1;N!=U[c];++N){if(U[N]>L){L=U[N]}if(-U[N]>L){L=-U[N]}}M[d](U)}return{structure:M,max:L}},H=function(L){var w=[/%26/g,"&",/%23/g,"",/%22/g,"",/%27/g,"",/%20/g,"",/%5B;/g,"[",/%5D;/g,"]",/&#38;/g,"&",/&#35;/g,"",/&#39;/g,"",/&#34;/g,"",/&#32;/g,"",/&#91;/g,"[",/&#93;/g,"]",/"/g,"",/'/g,"",/ /g,"",/#/g,"",/"/g,"",/&quot;/g,"",/&amp;/g,"&"],g=w[c],h;for(h=0;h!=g;h+=2){L=L[J](w[h],w[h+1])}return L},f=H(decodeURI(window.location.toString())),D,v,K=[],n,u,k=y||getClientWidth(),E=B||getClientHeight(),C=0,G;v=f[x](/[?#&]/);for(D=1;D<v[c];++D){u=false;n=v[D][a]("geometry=");if(n==-1){u=true;n=v[D][a]("strip=")}if(n!=-1){G=v[D][q](n+(u?6:9))[J](/\[\[|\]\]/g,"");G=o(G,u);if(!G){return}K[d].apply(K,G.structure);C=Math.max(C,G.max)}}G=new antennaGeometry("geometry",Math.max(k-20,0),Math.max(E-30,0),Math.min(E,k)/C/2.2,K,0,0);G.redraw()};