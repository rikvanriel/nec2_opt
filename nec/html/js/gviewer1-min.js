var geometryViewer=function(a,b,c){var C,D,E,F,d="length",e="elements",f=Math.PI,g="split",h=Matrix,i=h.RotationZ,j="push",k="replace",l="slice",m="substr",n="indexOf",o=",\n geometry section: ",p="#000",q=Math.max,r=function(a){throw a},s=function(a,b,c,f){var h,i,g=(a[d]-1)/3;if(f)for(i=0;0!=f;f--){for(h=i;h!=i+g;++h)a[j].apply(a,b.x($V(a[l](1+3*h,4+3*h))).add(c)[e]);i=h}else for(h=0;h!=g;++h)i=b.x($V(a[l](1+3*h,4+3*h))).add(c),a[1+3*h]=i[e][0],a[2+3*h]=i[e][1],a[3+3*h]=i[e][2]},t=function(a,b){var h,k,c=i(2*f/b),g=(a[d]-1)/3,m=[];for(k=1;k!=b;++k){for(h=0;h!=g;++h)m[j].apply(m,c.x($V(a[l](1+3*h,4+3*h)))[e]);c=c.x(i(2*f/b))}a[j].apply(a,m)},u=function(a,b){var c,e;for(c=0;c!=a[d];++c)for(e=a[c][d]%3;e!=a[c][d];++e)a[c][e]*=b},v=function(a,b){var n,o,p,q,u,v,w,x,c=b[g]("_"),k={x:0,y:1,z:2},l={a:0,b:1,c:2},y="Invalid mirror direction: ",z="Invalid cylindrical rotation: ",A="Invalid transformation rotation: ";for(p=0;p!=c[d];++p)if(b=""+c[p],b[d])if("m"==b[0]){for(q=[0,0,0],o=1;o!=b[d];++o)b[o]in k||r(y+b[o]),q[k[b[o]]]=1;for(u=a[d]-1,n=0;n!=u;++n)a[j](q[n%3]?-a[n+1]:a[n+1])}else if("r"==b[0])u=Number(b[m](1)),(isNaN(u)||u!=Math.round(u))&&r(z+b),t(a,u);else{for(v=h.I(3),w=$V([0,0,0]),x=b.match(/^0|^[1-9][0-9]*/),q=x?Number(x[0]):1,x=b.match(/[xyzabc]-?[0-9]*[.]?[0-9]*/g),n=0;n!=x[d];++n)u=Number(x[n][m](1)),isNaN(u)&&r(A+b),x[n][0]in k?w[e][k[x[n][0]]]+=u:x[n][0]in l?(rot=[h.RotationX,h.RotationY,i][l[x[n][0]]](u*f/180),v=rot.x(v),w=rot.x(w)):r(A+b);s(a,v,w,q)}},w=function(a){var e,b=(a[d]-1)/3-1,c=a[l](0,4);for(e=1;e!=b;++e)c[j].apply(c,a[l](1+3*e,3*e+4)),c[j].apply(c,a[l](1+3*e,3*e+4));return c[j].apply(c,a[l](a[d]-3)),c},x=function(a,b){var f,i,k,l,m,n,q,c=a[g](/\[\[|\]\]|\],\[|,,/),e=0,h=[];for(l=0;l!=c[d];++l){for(f=c[l][g](","),i=[],m=0,n="",f[d]%3?(k=f[0],q=k.match(/[0-9,a-f,A-F]{6}|[0-9,a-f,A-F]{3}/),q&&k==q[0]?i[j]("#"+k):(k=colorNameToHex(k),i[j](k?k:p)),m++):i[j](p),f[d]%3>1&&(n=f[1],++m);m!=f[d];++m){if(q=Number(f[m]),isNaN(q))return r("Invalid geometry token "+f[m]+" at pos "+m+o+c[l]),0;i[j](q)}if(b&&(i=w(i)),n)try{v(i,n)}catch(s){r(s+o+c[l])}for(m=1;m!=i[d];++m)i[m]>e&&(e=i[m]),-i[m]>e&&(e=-i[m]);h[j](i)}return{structure:h,max:e}},y=function(a){var e,b=[".html#",".html?",/%26/g,"&",/%23/g,"",/%22/g,"",/%27/g,"",/%20/g,"",/%5B;/g,"[",/%5D;/g,"]",/&#38;/g,"&",/&#35;/g,"",/&#39;/g,"",/&#34;/g,"",/&#32;/g,"",/&#91;/g,"[",/&#93;/g,"]",/"/g,"",/'/g,"",/ /g,"",/#/g,"",/"/g,"",/&quot;/g,"",/&amp;/g,"&"],c=b[d];for(e=0;e!=c;e+=2)a=a[k](b[e],b[e+1]);return a},z=c||y(decodeURI(window.location.toString())),A=z[g](/[?#&]/),B=[],G=0,H=1,I=a||getClientWidth(),J=b||getClientHeight(),K=[];try{for(D=1;D<A[d];++D)if(F=!1,E=A[D][n]("geometry="),-1==E&&(F=!0,E=A[D][n]("strip=")),-1==E)if(E=A[D][n]("scale="),-1==E){if(E=A[D][n]("message="),-1!=E)return document.getElementById("geometry").innerHTML=A[D][m](E+8),void 0;E=A[D][n]("conf="),-1==E||(E=A[D][m](E+5)[g](","),1==E[d]?K.push([E[0],[]]):K.push([E[0],Number(E[1][m](1))]))}else H=Number(A[D][m](E+6)),isNaN(H)&&r("Invalid scale :"+A[D]);else{if(C=A[D][m](E+(F?6:9))[k](/\[\[|\]\]/g,""),C=x(C,F),!C)return;B[j].apply(B,C.structure),G=q(G,C.max)}}catch(L){return document.getElementById("geometry").innerHTML=L,void 0}1!=H&&u(B,H),C=new antennaGeometry("geometry",q(I-20,0),q(J-30,0),Math.min(J,I)/G/H/3,B,0,0,K[d]?K:0,K[d]?"Configuration":0),C.fit(),C.redraw()};